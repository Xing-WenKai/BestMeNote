<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>防抖</title>
</head>

<body>
  <button>点我输出</button>
  <script>
    /*
      防抖：当持续触发事件时，一定时间段内没有再触发事件，事件处理函数才会执行一次，如果设定的时间到来之前，又一次触发了事件，就重新开始延时。
      应用场景:
        1.搜索联想，等用户输入停止或输入间隔大于规定时间，发送查询请求
        2.文本编辑实时保存（同上场景）
        3.window.onresize 窗口调整大小
    */
    function debounce(callback, delay) {
      return function (...args) {
        if (callback.timer) {
          clearTimeout(callback.timer)
        }
        callback.timer = setTimeout(() => {
          delete callback.timer
          callback.apply(this, args)
        }, delay);
      }
    }
    function callback() {
      console.log('我被点击了......')
    }
    document.querySelector('button').onclick = debounce(callback, 1000)
  </script>
</body>

</html>